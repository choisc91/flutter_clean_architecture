import 'package:clean_architecture/data/pixabay_api.dart';
import 'package:clean_architecture/model/picture.dart';
import 'package:flutter_test/flutter_test.dart';
import 'package:mockito/annotations.dart';
import 'package:http/http.dart' as http;
import 'package:mockito/mockito.dart';

// @GenerateMocks([http.Client])
void main() {
  test('Pixabay api testing', () async {
    // final api = PixabayApi();
    //
    // final client = MockClient();
    //
    // const query = 'apple';
    // const url =
    //     '${PixabayApi.baseUrl}?key=${PixabayApi.apiKey}&q=$query&image_type=photo';
    //
    // when(
    //   client.get(Uri.parse(url)),
    // ).thenAnswer((_) async => http.Response(fakeJsonBody, 200));
    //
    // final result = await api.fetch(query, client: client);
    //
    // // 받아온 데이터의 검증 과정. 첫번째 데이터의 아이디가 1834693 이 아닐경우 오류.
    // expect(result.first.id, 410324);
    //
    // // 검증 코드.
    // verify(client.get(Uri.parse(url)));
  });
}

// String fakeJsonBody =
//     '{"total":8551,"totalHits":500,"hits":[{"id":1834639,"pageURL":"https://pixabay.com/photos/apple-red-fruit-food-fresh-ripe-1834639/","type":"photo","tags":"apple, red, fruit","previewURL":"https://cdn.pixabay.com/photo/2016/11/18/13/47/apple-1834639_150.jpg","previewWidth":150,"previewHeight":150,"webformatURL":"https://pixabay.com/get/g9b54540bd54512d13532055b2c482abc1a0ac42273145b5926600ce565371dc2f41f43991573eef3759fc4c409d492fe3e942cd8a9b3a3419e3c427ba78a0c88_640.jpg","webformatWidth":640,"webformatHeight":640,"largeImageURL":"https://pixabay.com/get/g551f21fbcbec24add15f6701d78457f4b7d2bc72d92167835cab9ed5ae8babe9280bce6b28ffb0253b877a978f317756748bfa5feb1dc59e7952d42d2254e275_1280.jpg","imageWidth":2827,"imageHeight":2827,"imageSize":1022194,"views":75447,"downloads":45873,"collections":2802,"likes":166,"comments":40,"user_id":2286921,"user":"Pexels","userImageURL":"https://cdn.pixabay.com/user/2016/03/26/22-06-36-459_250x250.jpg"},{"id":1122537,"pageURL":"https://pixabay.com/photos/apple-water-droplets-fruit-moist-1122537/","type":"photo","tags":"apple, water droplets, fruit","previewURL":"https://cdn.pixabay.com/photo/2016/01/05/13/58/apple-1122537_150.jpg","previewWidth":150,"previewHeight":95,"webformatURL":"https://pixabay.com/get/gc8043e71c7dc9300baf04f36d8f27a965ab249126881f036c509656adccbc9fdabe7c6abf7f7d4da7ad6c47a7aa0e991f713fcf38855db25bc69fa529816eed0_640.jpg","webformatWidth":640,"webformatHeight":409,"largeImageURL":"https://pixabay.com/get/g2a8e348148777b67e52d7511580d4ed4fbfd232fef98d43bcf388178c3f4b3c312dfbd7cf32e331b4af4f1531941ef9c11ffd8ae9372e77de89b48a305f08373_1280.jpg","imageWidth":4752,"imageHeight":3044,"imageSize":5213632,"views":251033,"downloads":142721,"collections":3982,"likes":1024,"comments":162,"user_id":1445608,"user":"mploscar","userImageURL":"https://cdn.pixabay.com/user/2016/01/05/14-08-20-943_250x250.jpg"},{"id":2788599,"pageURL":"https://pixabay.com/photos/apples-red-apple-ripe-apple-orchard-2788599/","type":"photo","tags":"apples, red apple, ripe","previewURL":"https://cdn.pixabay.com/photo/2017/09/26/13/21/apples-2788599_150.jpg","previewWidth":150,"previewHeight":99,"webformatURL":"https://pixabay.com/get/g8761072a150aa86a1a7c34a10bfcb038a85fc2a6f0d618ff4767d6ac51e68c29e15276c6f6f04dd02273c024154564788c53360f5c8d33a548ee155af12cea21_640.jpg","webformatWidth":640,"webformatHeight":426,"largeImageURL":"https://pixabay.com/get/g00a2fecaff2ac220cdb346c279495e983d4bc2a6a2f4764f5374704b58473a6390093bfb9d4760106997ed3ad8c63ad4ea4104481788dd370ffb17ccd1021ac7_1280.jpg","imageWidth":6000,"imageHeight":4000,"imageSize":3660484,"views":108530,"downloads":58704,"collections":1988,"likes":604,"comments":59,"user_id":2364555,"user":"pixel2013","userImageURL":"https://cdn.pixabay.com/user/2020/07/25/21-10-11-80_250x250.jpg"},{"id":1868496,"pageURL":"https://pixabay.com/photos/apple-computer-desk-workspace-1868496/","type":"photo","tags":"apple, computer, desk","previewURL":"https://cdn.pixabay.com/photo/2016/11/29/08/41/apple-1868496_150.jpg","previewWidth":150,"previewHeight":99,"webformatURL":"https://pixabay.com/get/g9c10b94d6eaa686d8668f8eca3b776fb1f91aeaafa591ad01b83ba5e5415cb88a639825f25b06778e819eae7dc3ac339b239a407cbcf047fc66d55a57e384aad_640.jpg","webformatWidth":640,"webformatHeight":426,"largeImageURL":"https://pixabay.com/get/gf2359b9f69ae081ab1eb41bd8f525808bf11f2630caa3722133bf6051af3130d6796533bcc6e0dc1141f36c3495cf68fd0b0a216b03ec310b52df1d86ae62de0_1280.jpg","imageWidth":5184,"imageHeight":3456,"imageSize":2735519,"views":545012,"downloads":400202,"collections":7607,"likes":898,"comments":244,"user_id":2286921,"user":"Pexels","userImageURL":"https://cdn.pixabay.com/user/2016/03/26/22-06-36-459_250x250.jpg"},{"id":256261,"pageURL":"https://pixabay.com/photos/apple-books-still-life-fruit-food-256261/","type":"photo","tags":"apple, books, still life","previewURL":"https://cdn.pixabay.com/photo/2014/02/01/17/28/apple-256261_150.jpg","previewWidth":150,"previewHeight":99,"webformatURL":"https://pixabay.com/get/ge67e031d008f19ca73ee636e8de903b750c5241fc798d5f4992a759dd72377446dedb853bfa778eafcb4383d2b0c56ee_640.jpg","webformatWidth":640,"webformatHeight":423,"largeImageURL":"https://pixabay.com/get/g8bca29a6f9607fd798cc79116f6168ff6a721ac865e76c87fed736878cdadc2dcc49e64aee44d2f33975a0a8053cb62de6912e5907001e6002312266f132f7b3_1280.jpg","imageWidth":4928,"imageHeight":3264,"imageSize":2987083,"views":420515,"downloads":205605,"collections":4586,"likes":876,"comments":226,"user_id":143740,"user":"jarmoluk","userImageURL":"https://cdn.pixabay.com/user/2019/09/18/07-14-26-24_250x250.jpg"},{"id":2788616,"pageURL":"https://pixabay.com/photos/apple-red-red-apple-2788616/","type":"photo","tags":"apple, red, red apple","previewURL":"https://cdn.pixabay.com/photo/2017/09/26/13/31/apple-2788616_150.jpg","previewWidth":150,"previewHeight":90,"webformatURL":"https://pixabay.com/get/ga858c9444a65f9e7335b50a225039cea55642d27c0565f5c7021210c52e72d6fcaaacd496dd3595fee4a0ca6987c0f78bb07a53362e28788aa9a2873876c78cc_640.jpg","webformatWidth":640,"webformatHeight":384,"largeImageURL":"https://pixabay.com/get/ge839e965cdc20e23799ac6919780002302e0a1299a3fdbd8e7b94db3fab286386e52591bc39d62b7b2b6e3cf03e5bfd03c981bcd6f80989dc76bb0f3b96657fe_1280.jpg","imageWidth":6000,"imageHeight":3601,"imageSize":2758033,"views":84259,"downloads":46372,"collections":1572,"likes":441,"comments":36,"user_id":2364555,"user":"pixel2013","userImageURL":"https://cdn.pixabay.com/user/2020/07/25/21-10-11-80_250x250.jpg"},{"id":2788662,"pageURL":"https://pixabay.com/photos/apple-red-hand-apple-plantation-2788662/","type":"photo","tags":"apple, red, hand","previewURL":"https://cdn.pixabay.com/photo/2017/09/26/13/42/apple-2788662_150.jpg","previewWidth":150,"previewHeight":88,"webformatURL":"https://pixabay.com/get/ge8498614cdfee7cbfcbaf24f98324a5d0b3ab27d569d7f30bc4fb987ddb0d93b1b39758bb5ac6ff183f93895aadbf33eceffaa7eb907516de76077895f95b000_640.jpg","webformatWidth":640,"webformatHeight":377,"largeImageURL":"https://pixabay.com/get/gc5139ad8f5d0fb9e34deb363dd653f26b207ab77cb87d9b9e9e1ff8f4cd9f502e588f9663a5c903c66b63c5a6b35bde52854f41a483f59f1a3e1761f2e8b3e6b_1280.jpg","imageWidth":6000,"imageHeight":3539,"imageSize":2042422,"views":123878,"downloads":69186,"collections":1901,"likes":554,"comments":78,"user_id":2364555,"user":"pixel2013","userImageURL":"https://cdn.pixabay.com/user/2020/07/25/21-10-11-80_250x250.jpg"},{"id":1873078,"pageURL":"https://pixabay.com/photos/apples-orchard-apple-trees-1873078/","type":"photo","tags":"apples, orchard, apple trees","previewURL":"https://cdn.pixabay.com/photo/2016/11/30/15/23/apples-1873078_150.jpg","previewWidth":150,"previewHeight":95,"webformatURL":"https://pixabay.com/get/g96423da16c21e63735b735b4c1a4050da043e2aa602fd807150ccce1dd898154c974267fc61db3228ab0b6e3db9f7576e7c970e5d2a1213dd9d36fdb70df3fd2_640.jpg","webformatWidth":640,"webformatHeight":408,"largeImageURL":"https://pixabay.com/get/gd96be1e740159f43c4980f2e7553e073ae35f4decee090487c5c135464ec9cfafcaa8173dc0fb9a92c5e38c8bb889f136662f5ebb1c1ec8f1da774250784745d_1280.jpg","imageWidth":3212,"imageHeight":2051,"imageSize":2581012,"views":332496,"downloads":183530,"collections":4562,"likes":1010,"comments":140,"user_id":3890388,"user":"lumix2004","userImageURL":""},{"id":805124,"pageURL":"https://pixabay.com/photos/apples-basket-fruits-apple-basket-805124/","type":"photo","tags":"apples, basket, fruits","previewURL":"https://cdn.pixabay.com/photo/2015/06/10/19/56/apples-805124_150.jpg","previewWidth":150,"previewHeight":129,"webformatURL":"https://pixabay.com/get/ge29f4a38f577de7ce0c7b24e1768dd80f6338a24ceddfc84ea50f9c6927756420b464ee0d81642672b5f50c201fa304b_640.jpg","webformatWidth":640,"webformatHeight":553,"largeImageURL":"https://pixabay.com/get/g81692fa39c21007a784e5b97dfbeec74424200ecb4c678e00978d2224c9319aacbc721c17e7bb451a8a9ea538e0d774af2c7d1534955cba958e2c6180bdaeac3_1280.jpg","imageWidth":3101,"imageHeight":2683,"imageSize":998659,"views":115229,"downloads":65166,"collections":2118,"likes":427,"comments":82,"user_id":1107275,"user":"Larisa-K","userImageURL":"https://cdn.pixabay.com/user/2015/06/13/06-38-56-116_250x250.jpg"},{"id":256263,"pageURL":"https://pixabay.com/photos/apple-books-classroom-red-apple-256263/","type":"photo","tags":"apple, books, classroom","previewURL":"https://cdn.pixabay.com/photo/2014/02/01/17/28/apple-256263_150.jpg","previewWidth":150,"previewHeight":99,"webformatURL":"https://pixabay.com/get/g4d06dba95a95bfa4d11df4ccfc9458b49b88d09799a322bd64fa1a89e14c0f544355402007a1c3e070e3d3f03a672ba3_640.jpg","webformatWidth":640,"webformatHeight":423,"largeImageURL":"https://pixabay.com/get/g2762084d4e04c7681c17dc722a8fbc8a0b28b1500194f8bec4288ba94bccefc61779b581a532973b94362e9d62a7e0b48a38ec1697cc1dbd177285b9bd779c07_1280.jpg","imageWidth":4928,"imageHeight":3264,"imageSize":2864273,"views":203988,"downloads":106369,"collections":1770,"likes":478,"comments":96,"user_id":143740,"user":"jarmoluk","userImageURL":"https://cdn.pixabay.com/user/2019/09/18/07-14-26-24_250x250.jpg"},{"id":3860991,"pageURL":"https://pixabay.com/photos/apples-crisp-ripe-market-sale-3860991/","type":"photo","tags":"apples, crisp, ripe","previewURL":"https://cdn.pixabay.com/photo/2018/12/07/01/53/apples-3860991_150.jpg","previewWidth":150,"previewHeight":100,"webformatURL":"https://pixabay.com/get/g3bba46afb28413edc29900a9f74a51bc91c3a342331ec8c832fbf632cb0519cda30509b94335d25411c6eacdfbc226edf01a3d444c8888ccec78ef2b23aca981_640.jpg","webformatWidth":640,"webformatHeight":427,"largeImageURL":"https://pixabay.com/get/g327506703f415cb860062acebf7a784a1a3d6abcc8965ffe585782686a0fd1f67da74b36fa24ac3b3b9211444472e9c2fcc20e8481d8a6012981284a44fcbf64_1280.jpg","imageWidth":6016,"imageHeight":4016,"imageSize":4811041,"views":27008,"downloads":17431,"collections":1142,"likes":117,"comments":46,"user_id":1834854,"user":"ulleo","userImageURL":"https://cdn.pixabay.com/user/2022/02/27/09-13-19-744_250x250.jpg"},{"id":410324,"pageURL":"https://pixabay.com/photos/iphone-smartphone-apps-apple-inc-410324/","type":"photo","tags":"iphone, smartphone, apps","previewURL":"https://cdn.pixabay.com/photo/2014/08/05/10/30/iphone-410324_150.jpg","previewWidth":150,"previewHeight":99,"webformatURL":"https://pixabay.com/get/gcdd9bc71fd7cce779a48beb6e614801c14695b48e8a6bf0e3c3cdcd019566511f53b2c1b3552223c89f38f386e51bdf6_640.jpg","webformatWidth":640,"webformatHeight":426,"largeImageURL":"https://pixabay.com/get/g140cf56e44847949827be467a80fdbe785c2bc8c05dedf95809e1bfcb62075e0d0e4efce6e64a6993d57a5ac4707fa6b21b1329593a29b4af8965366b33867db_1280.jpg","imageWidth":2180,"imageHeight":1453,"imageSize":477025,"views":627500,"downloads":351526,"collections":5964,"likes":743,"comments":193,"user_id":264599,"user":"JESHOOTS-com","userImageURL":"https://cdn.pixabay.com/user/2014/06/08/15-27-10-248_250x250.jpg"},{"id":1872997,"pageURL":"https://pixabay.com/photos/apples-fruits-orchard-nature-trees-1872997/","type":"photo","tags":"apples, fruits, orchard","previewURL":"https://cdn.pixabay.com/photo/2016/11/30/15/00/apples-1872997_150.jpg","previewWidth":150,"previewHeight":99,"webformatURL":"https://pixabay.com/get/g1dd0181da5ba661ec7527ec7079a939e88b2ae917046d6d3f04542a5ed93b37bb99736edf9f465ba3d4c08e0107e7b0fcab7aa5a225c7a0f3769db0393fa3f4e_640.jpg","webformatWidth":640,"webformatHeight":426,"largeImageURL":"https://pixabay.com/get/g178521d3f745ceb7d8416c2f9148cc3cd376122a9089de2b351e74e745daf578afc9b5cb3202c12bdabfd9f781bc420248eefb1a8a11618eabde3d623cb60d0b_1280.jpg","imageWidth":3504,"imageHeight":2336,"imageSize":2019234,"views":161998,"downloads":98594,"collections":3492,"likes":571,"comments":76,"user_id":3890388,"user":"lumix2004","userImageURL":""},{"id":256268,"pageURL":"https://pixabay.com/photos/apple-red-delicious-fruit-vitamins-256268/","type":"photo","tags":"apple, red, delicious","previewURL":"https://cdn.pixabay.com/photo/2014/02/01/17/30/apple-256268_150.jpg","previewWidth":150,"previewHeight":99,"webformatURL":"https://pixabay.com/get/g565c8c13399bd574a8fbf9238cf1355e49c31c1c106814d7e759b770018ab587321348b45b58d407eca97a84e21e03bc_640.jpg","webformatWidth":640,"webformatHeight":423,"largeImageURL":"https://pixabay.com/get/g7995ea6e500136d44e9681b84219c089b0d6bd0265cf2c06f2eae8a23107623dafb8a287c6abc391093fb9e558b7140d163f30ffb1e5471b1a40c86887fce440_1280.jpg","imageWidth":4928,"imageHeight":3264,"imageSize":2942037,"views":68198,"downloads":30679,"collections":811,"likes":240,"comments":37,"user_id":143740,"user":"jarmoluk","userImageURL":"https://cdn.pixabay.com/user/2019/09/18/07-14-26-24_250x250.jpg"},{"id":606761,"pageURL":"https://pixabay.com/photos/apple-imac-ipad-workplace-606761/","type":"photo","tags":"apple, imac, ipad","previewURL":"https://cdn.pixabay.com/photo/2015/01/21/14/14/apple-606761_150.jpg","previewWidth":150,"previewHeight":99,"webformatURL":"https://pixabay.com/get/g2e47537973e728a185535442fb1692a2255defe37a5d17cbd7ea14392109a223678894fb353fd4ee680a8f38f17a5d1a_640.jpg","webformatWidth":640,"webformatHeight":425,"largeImageURL":"https://pixabay.com/get/gbb22f1bc649685699be1cada4c63c838cf094fd663eb15aaa42743651b0c783b9c1346299516607c7154cde8c92666c43203732abe32f45fa4164360defb15c7_1280.jpg","imageWidth":4209,"imageHeight":2796,"imageSize":1649126,"views":362617,"downloads":195223,"collections":2909,"likes":474,"comments":107,"user_id":663163,"user":"Firmbee","userImageURL":"https://cdn.pixabay.com/user/2020/11/25/09-38-28-431_250x250.png"},{"id":3580560,"pageURL":"https://pixabay.com/photos/apples-fruits-food-vitamins-sliced-3580560/","type":"photo","tags":"apples, fruits, food","previewURL":"https://cdn.pixabay.com/photo/2018/08/02/21/51/apples-3580560_150.jpg","previewWidth":150,"previewHeight":99,"webformatURL":"https://pixabay.com/get/g3869c46ff0846c387a99d2e081526b4e78bbe4e21cf28f59529e1525093b50815dbb86a8a3407e748685dff134601853c198006e866227be85392fb9afddb520_640.jpg","webformatWidth":640,"webformatHeight":426,"largeImageURL":"https://pixabay.com/get/gf1df58bed8ce7631848a05efab7527ea376f8e7f5d02ea878e5189c3763e9e0eecf7d30eaba5367e7b95d794b532100a3c5e8ef8fd7c5c254c88e04458007c12_1280.jpg","imageWidth":6000,"imageHeight":4000,"imageSize":3704994,"views":117660,"downloads":87464,"collections":983,"likes":299,"comments":100,"user_id":6355831,"user":"pasja1000","userImageURL":"https://cdn.pixabay.com/user/2021/02/06/02-19-29-704_250x250.png"},{"id":1702316,"pageURL":"https://pixabay.com/photos/apple-red-fruit-red-chief-1702316/","type":"photo","tags":"apple, red, fruit","previewURL":"https://cdn.pixabay.com/photo/2016/09/29/08/33/apple-1702316_150.jpg","previewWidth":150,"previewHeight":116,"webformatURL":"https://pixabay.com/get/gf87c77482e02ef55a99c343556d72663d43b0d18ed46c9a15bdd77af329ab31cdd1def8c67537738375f041ceeb7dab5d5e3dd0ed1cee6c407dd32c9082cb26a_640.jpg","webformatWidth":640,"webformatHeight":495,"largeImageURL":"https://pixabay.com/get/g19126559170e12aa9ae95bccc2058340ebf3ef09f32df21ed1ca5ab1325bbe9be54c94e9c4d07bdce2ef1977551d37780ee01eb476584c500aeff0a5287b87b8_1280.jpg","imageWidth":4000,"imageHeight":3099,"imageSize":1930833,"views":101453,"downloads":65671,"collections":811,"likes":341,"comments":31,"user_id":2364555,"user":"pixel2013","userImageURL":"https://cdn.pixabay.com/user/2020/07/25/21-10-11-80_250x250.jpg"},{"id":634572,"pageURL":"https://pixabay.com/photos/apples-fruits-red-ripe-vitamins-634572/","type":"photo","tags":"apples, fruits, red","previewURL":"https://cdn.pixabay.com/photo/2015/02/13/00/43/apples-634572_150.jpg","previewWidth":100,"previewHeight":150,"webformatURL":"https://pixabay.com/get/g1d6aded5bbc917a813ff6c9a58131853cb84c0a4b90b483727bad33576c275d27cdfea093da42cb77fda23e7b810cd30_640.jpg","webformatWidth":427,"webformatHeight":640,"largeImageURL":"https://pixabay.com/get/g3dac235230695155703d3b9cb6dd18868897293b50cc010b5c689462851f8e990431588e79d944ac8b373b1020ddbbf67518d24efd3012147786aac8a6d075bd_1280.jpg","imageWidth":3345,"imageHeight":5017,"imageSize":811238,"views":389934,"downloads":218915,"collections":2745,"likes":2266,"comments":175,"user_id":752536,"user":"Desertrose7","userImageURL":"https://cdn.pixabay.com/user/2016/03/14/13-25-18-933_250x250.jpg"},{"id":2391,"pageURL":"https://pixabay.com/photos/apple-diet-female-food-fresh-2391/","type":"photo","tags":"apple, diet, female","previewURL":"https://cdn.pixabay.com/photo/2010/12/13/10/09/apple-2391_150.jpg","previewWidth":150,"previewHeight":99,"webformatURL":"https://pixabay.com/get/g3c0e45efe8dfc9e5420d24986fb382eda5f27dc01e307e6a5b2050e09f1c5df7b5f2163eb4327cbf4f51d347be2da3b3_640.jpg","webformatWidth":640,"webformatHeight":426,"largeImageURL":"https://pixabay.com/get/ga228443020a188d7b23fd239db337fa0477b389421ebd709d8b1994df8854147bdd0284bc7961c1cc267fed44cc76aff_1280.jpg","imageWidth":4752,"imageHeight":3168,"imageSize":752002,"views":99564,"downloads":57483,"collections":1079,"likes":253,"comments":32,"user_id":14,"user":"PublicDomainPictures","userImageURL":"https://cdn.pixabay.com/user/2012/03/08/00-13-48-597_250x250.jpg"},{"id":1776744,"pageURL":"https://pixabay.com/photos/apples-leaves-fall-still-life-1776744/","type":"photo","tags":"apples, leaves, fall","previewURL":"https://cdn.pixabay.com/photo/2016/10/27/22/52/apples-1776744_150.jpg","previewWidth":150,"previewHeight":100,"webformatURL":"https://pixabay.com/get/ge2feaa51fe013f4aadc2ddd219142558b1ac278f80e855be2ab9761783817c1a39f2d8254ed356b61804d33d7a3793331e392c7f91a5217d04540b74c01f1fce_640.jpg","webformatWidth":640,"webformatHeight":427,"largeImageURL":"https://pixabay.com/get/g9d9dece40749ddf3af8edf1d641574e67108c3f0b57b616dbc5c29f22c4bd1ac783cdaf3f9e59046db3e65606a07a81d0f71365c165eb9a4eac020b9fc3bc660_1280.jpg","imageWidth":4193,"imageHeight":2798,"imageSize":2002268,"views":137461,"downloads":80321,"collections":4463,"likes":543,"comments":72,"user_id":2970404,"user":"castleguard","userImageURL":"https://cdn.pixabay.com/user/2016/09/18/22-38-35-578_250x250.jpg"}]}';
